This is a ELK example on vagrant.
==========================================================================

# Features
	-. install version 5x ELK and make 2 ES nodes.
	-. configure logstash for json foramt log
	-. test script for simple query
	-. install all on AWS

# Execution
```
	* change the resource size according to your hardware spec.
		vi /tz-elk/Vagrantfile
			v.customize ["modifyvm", :id, "--cpus", "2"]
			vb.customize ["modifyvm", :id, "--memory", "2048"]

	vagrant destroy -f && vagrant up
```
	
# Run
	cd /home/vagrant
	1. elasticsearch
		sudo service es1 stop
		sudo service es1 start
	2. kibana
		sudo service kibana stop
		sudo service kibana start
	3. logstash
		sudo systemctl stop logstash_nginx
		sudo systemctl start logstash_nginx

# installed applications
	elasticsearch
		http://192.168.82.170:9000
		elastic / test!323

	logstash

	kibana		http://192.168.82.170:5601
		kibana / test!323

	nginx		http://192.168.82.170:8080 	# for access test

# service flow 
	nginx
		http://192.168.82.170:8080
		/var/log/nginx/access.log
	logstash
		send access.log to elasticsearch
	kibana
		http://192.168.82.170:5601

# test script
	You can access to VM from outside like this script.
	vagrant ssh
	bash /vagrant/scripts/elk_test.sh

# kibana setting
	http://192.168.82.170:5601/app/kibana#/settings/indices
	Index name or pattern
		- test1
	Time-field name 
		- timestamp
	- change the query period for test1 data
		2017-05-21 00:00:00.000 ~ 2017-05-21 00:00:00.000
	
# install all on AWS
``` 
	su -
	cd /home/ubuntu
	git clone https://github.com/doohee323/tz-elk.git
	cd ~/tz-elk/scripts
	bash elk_aws.sh
```